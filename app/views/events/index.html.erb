<div class= "container mt-4">
  <div style="width: 100%; height: 500px;">
    <p> "Ici la MAP" </p>
  </div>
  <div class="d-flex flex-wrap">
    <% if @events.present? %>
      <% @events.each do |event| %>
        <div class="card m-3" style="width: 20rem; border-radius: 15px">
          <div class="d-flex">
            <div class="card-body">
              <h5 class="card-title"><strong><%= event.name %></strong></h5>
              <p class="card-text mb-2"><%= event.description.truncate(100) %></p>
              <%= link_to 'Voir cette offre', event_path(event), class: 'btn btn-outline-info index-button-blue-green w-100 mt-auto' %>
              <div class="d-flex justify-content-between mt-3">
                <p class="card-text"><i class="fa-solid fa-house-user icon-blue-green"></i> <%= event.user.username %></p>
              </div>
            </div>
            <div>
              <%# <% image_url = if event.image.attached?
                              cl_image_path(event.image.key)
                            elsif event.url_image.present?
                              event.url_image.strip
                            else
                              'https://images.pexels.com/photos/691668/pexels-photo-691668.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'
                            end %>
              <% image_url = asset_path('no_image.png') %>
              <img src="<%= image_url %>" class="card-img-top" alt="<%= event.name %>" style="height: 200px;">
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <p>No events available.</p>
    <% end %>
  </div>
</div>
